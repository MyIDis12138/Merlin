global_batch_size: &global_batch_size 8
global_num_workers: &global_num_workers 16

dataset:
  name: "multimodal_dataset"
  params:
    root_dir: "data/Duke-Breast-Cancer-MRI"
    clinical_data_path: "data/Clinical_and_Other_Features.xlsx"
    clinical_label: ['Recurrence', 'Recurrence event(s)', '{0 = no, 1 = yes}']
    clinical_features_filter_dict:
      0: [ "Follow Up", "US features"] #"Tumor Characteristics"
    clinical_features_exclude_columns:
      - ['Recurrence', 'Days to local recurrence (from the date of diagnosis)', '']
      - ['Recurrence', 'Days to distant recurrence(from the date of diagnosis)', '']
      - ['Tumor Characteristics', 'Staging(Tumor Size)# [T]', '']
      - ['Mammography Characteristics', 'Tumor Size (cm)', '']
      - ['MRI Technical Information', 'Image Position of Patient', '']
      - ['Tumor Characteristics', 'Position', 'Position (every bx positive for invasive cancer)(used during annotation)']
    max_workers: 8

  indices:
    # train: [358]
    # val: [388]
    # train: [2, 8, 18, 20, 47, 48, 53, 57, 59, 61, 64, 91, 92, 102, 117, 137, 145, 153, 154, 162, 180, 185, 196, 208, 221, 222, 227, 233, 243, 246, 251, 255, 257, 284, 286, 295, 311, 316, 318, 322, 329, 340, 348, 351, 352, 354, 355, 359, 375, 383, 415, 419, 423, 424, 425, 434, 435, 438, 444, 446, 456, 462, 483, 492, 516, 534, 550, 552, 555, 561, 565, 571, 579, 590, 612]
    train: [403,910,533,252,277,25,619,179,318,719,885,849,321,912,47,647,84,54,687,397,424,444,248,659,483,350,108,848,102,1,239,220,445,509,189,176,601,70,8,374,340,422,297,281,544,475,241,173,195,238,498,755,501,386,390,725,723,739,657,236,623,478,493,287,244,772,665,57,162,799,29,74,720,106,635,868,4,115,505,128,823,610,363,430,276,490,393,562,853,337,66,798,557,678,886,699,728,408,473,724,749,283,315,783,667,289,575,132,175,48,323,696,565,917,670,288,299,222,217,85,409,584,743,264,548,612,37,606,437,404,131,602,503,564,830,112,378,531,805,741,193,18,210,89,520,795,793,199,78,476,646,674,204,847,698,568,833,64,782,197,150,645,664,802,850,788,364,901,333,338,510,425,883,471,545,429,454,438,76,130,359,752,410,263,576,6,101,250,267,796,435,457,778,887,292,15,736,312,258,268,497,322,280,83,80,549,819,726,753,139,388,756,60,423,620,207,142,251,559,508,512,344,634,704,656,300,226,874,718,229,19,680,499,919,81,894,880,260,469,416,254,876,163,316,303,521,262,593,113,87,22,570,479,155,844,651,862,358,572,824,452,215,418,580,116,622,104,286,760,779,124,845,342,41,468,415,399,421,461,223,492,30,194,918,491,45,26,902,697,183,400,213,314,20,913,109,775,354,655,21,166,439,345,95,7,237,613,34,201,174,877,837,362,349,417,882,603,757,587,797,375,32,371,838,412,481,669,380,784,864,818,53,196,615,456,566,605,100,137,668,463,356,178,627,907,484,12,494,582,309,13,360,143,908,607,261,586,692,780,860,892,688,673,249,563,200,511,282,188,751,870,313,98,675,224,872,402,88,265,320,489,339,777,583,528,765,895,737,144,269,154,884,827,256,428,766,705,242,768,694,747,770,677,554,52,759,367,440,721,209,502,148,140,652,186,485,230,307,643,738,577,713,44,661,436,904,372,328,534,676,712,298,761,295,255,327,28,900,691,170,294,291,86,68,451,365,62,822,679,198,706,466,722,873,855,905,806,684,275,257,733,663,745,168,921,550,879,683,811,385,578,527,164,51,218,486,746,843,852,442,347,813,820,3,922,742,709,631,816,626,666,515,278,594,482,40,432,121,56,460,519,357,859,123,915,273,331,35,588,598,608,59,899,569,716,851,714,836,153,447,599,290,556,658,832,474,14,50,395,829,470,407,803,203,893,293,690,125,589,624,185,392,184,890,826,547,71,629,754,888,529,715,190,231,191,49,93,800,616,158,891,648,92,413,458,361,11,769,781,532,682,160,335,708,141,600,212,861,551,419,72]
    val: [808,133,591,172,707,369,346,414,161,506,208,302,235,330,79,401,842,735,654,611,831,450,301,58,536,729,734,119,764,686,889,517,585,462,552,105,513,296,341,555,9,762,171,122,834,537,911,396,146,878,336,317,804,467,135,167,703,151,382,206,377,156,758,159,247,625,897,67,774,867,96,319,165,526,126,136,875,427,240,352,27,329,42,94,538,618,500,685,644,906,840,266,77,405,846,504,351,202,306,689,368,343,863,896,604,542,543,881,662,387,324,744,546,856,807,702,63,810,149,366,595,33,310,590,825,633,672,398,221,617,854,90,253,801,495,394,507,411,660,711,710,169,332,376,384]
    test: [920,389,792,523,839,326,177,38,270,540,916,567,621,786,46,541,571,869,192,381,55,353,73,145,370,187,518,480,609,259,787,10,828,693,23,129,420,637,727,695,472,522,91,448,138,99,118,434,640,455,597,561,75,671,821,732,443,17,649,97,379,516,234,147,763,2,488,865,61,433,815,731,464,431,227,274,426,16,228,581,560,630,348,334,271,272,24,858,182,898,103,814,773,653,216,43,681,791,446,636,771,308,871,453,638,487,205,36,841,243,835,211,406,642,717,114,632,477,641,740,459,152,535,245,748,817,391,383,794,180,650,524,592,530,776,305,909,539,730,750,579,31,107,117,789,525,812,219,304,69,246,914,809,82,903,614,110,441,233,701,857,628,157,790,284,355,285,5,311,225,785,214,496,449,39,558,573,639,553,181,866,111]

  transforms:
    target_size: &target_size [144, 96, 144]
    mode: &mode "trilinear"
    train:
      - name: "ToTensor"

      - name: "Resize"
        params:
          target_size: *target_size
          mode: *mode

    val:  # Transforms for validation set
      - name: "ToTensor"

      - name: "Resize"
        params:
          target_size: *target_size
          mode: *mode
      - name: "Normalize"

    test:  # Transforms for test set
      - name: "ToTensor"

      - name: "Resize"
        params:
          target_size: *target_size
          mode: *mode
      - name: "Normalize"

dataloader:
  train:
    batch_size: *global_batch_size
    shuffle: true
    num_workers: *global_num_workers
    pin_memory: false

  val:
    batch_size: *global_batch_size
    shuffle: false
    num_workers: *global_num_workers
    pin_memory: false

  test:
    batch_size: *global_batch_size
    shuffle: false
    num_workers: *global_num_workers
    pin_memory: false

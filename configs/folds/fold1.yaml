global_batch_size: &global_batch_size 8
global_num_workers: &global_num_workers 16

dataset:
  name: "multimodal_dataset"
  params:
    root_dir: "data/Duke-Breast-Cancer-MRI"
    clinical_data_path: "data/Clinical_and_Other_Features.xlsx"
    clinical_label: ['Recurrence', 'Recurrence event(s)', '{0 = no, 1 = yes}']
    clinical_features_filter_dict:
      0: [ "Follow Up", "US features"] #"Tumor Characteristics"
    clinical_features_exclude_columns:
      - ['Recurrence', 'Days to local recurrence (from the date of diagnosis)', '']
      - ['Recurrence', 'Days to distant recurrence(from the date of diagnosis)', '']
      - ['Tumor Characteristics', 'Staging(Tumor Size)# [T]', '']
      - ['Mammography Characteristics', 'Tumor Size (cm)', '']
      - ['MRI Technical Information', 'Image Position of Patient', '']
      - ['Tumor Characteristics', 'Position', 'Position (every bx positive for invasive cancer)(used during annotation)']
    max_workers: 8

  indices:
    # train: [358]
    # val: [388]
    # train: [2, 8, 18, 20, 47, 48, 53, 57, 59, 61, 64, 91, 92, 102, 117, 137, 145, 153, 154, 162, 180, 185, 196, 208, 221, 222, 227, 233, 243, 246, 251, 255, 257, 284, 286, 295, 311, 316, 318, 322, 329, 340, 348, 351, 352, 354, 355, 359, 375, 383, 415, 419, 423, 424, 425, 434, 435, 438, 444, 446, 456, 462, 483, 492, 516, 534, 550, 552, 555, 561, 565, 571, 579, 590, 612]
    train: [403,910,252,277,25,619,318,808,885,849,321,912,47,397,133,424,444,248,659,591,848,102,239,220,509,189,176,601,70,8,172,374,297,707,369,281,544,346,475,414,241,173,161,195,238,498,755,501,386,390,725,506,208,723,236,623,478,493,302,235,665,162,330,29,720,868,4,115,79,401,505,128,823,842,430,735,654,490,611,393,562,853,337,66,678,886,699,728,473,724,749,831,283,315,667,289,575,450,175,696,565,917,670,288,301,222,217,85,58,409,743,264,612,404,602,503,564,830,112,531,805,536,741,729,193,18,89,795,793,199,78,476,646,674,734,204,119,568,64,782,197,764,686,889,645,664,802,850,517,585,462,333,338,510,425,883,552,105,513,296,341,545,555,438,9,130,359,762,752,410,171,263,576,6,101,250,267,796,435,457,778,887,292,15,122,834,736,312,537,268,497,911,322,280,83,80,549,396,753,139,388,756,146,60,878,142,251,559,336,317,508,512,634,874,718,804,467,229,19,499,919,81,135,894,880,469,416,254,876,163,316,303,521,167,262,593,87,570,479,844,703,651,862,572,824,452,215,418,580,151,116,622,286,760,124,845,342,41,468,382,399,206,223,492,918,377,491,45,156,902,697,183,400,758,213,314,20,913,109,775,655,159,21,166,439,345,7,237,613,247,625,837,349,897,67,417,882,603,757,587,797,375,774,867,371,838,412,481,96,669,319,380,784,818,196,615,456,605,165,100,137,463,356,526,627,484,12,494,582,126,309,136,13,143,908,607,586,692,780,860,875,688,673,563,200,511,188,751,870,313,98,427,224,402,88,265,240,320,352,27,489,777,528,329,765,737,269,42,827,94,256,428,766,705,768,694,747,538,677,554,759,367,721,209,618,148,140,652,186,500,685,230,644,906,307,643,738,577,840,266,77,44,661,436,904,372,328,534,676,712,298,761,405,295,846,255,28,900,691,504,294,291,351,202,68,365,62,198,706,722,873,306,689,368,343,905,863,684,275,257,896,604,542,733,663,745,168,921,543,881,550,879,683,662,811,387,385,578,527,164,51,218,324,744,746,843,852,442,347,813,546,922,742,709,631,816,626,856,515,807,702,278,63,810,149,366,40,432,121,56,460,519,859,595,123,915,33,273,331,35,588,310,598,608,59,899,569,716,590,851,714,825,836,447,599,290,556,633,672,398,658,221,832,617,14,50,395,854,470,90,253,407,801,203,495,893,394,507,690,125,589,411,624,392,660,711,710,169,890,826,629,754,332,529,715,190,231,191,49,376,93,800,158,648,92,413,384,11,781,532,682,160,335,708,600,212,861,551,419,72]
    val: [533,179,719,647,84,54,687,483,350,108,1,445,340,422,739,657,287,244,772,57,799,74,106,635,610,363,276,798,557,408,783,132,48,323,299,584,548,37,606,437,131,378,210,520,847,698,833,150,788,364,901,471,429,454,76,258,819,726,423,620,207,344,704,656,300,226,680,260,113,22,155,358,104,779,415,421,461,30,194,26,354,95,34,201,174,877,362,32,864,53,566,668,178,907,360,261,892,249,282,675,872,339,583,895,144,154,884,242,770,52,440,502,485,713,327,170,86,451,822,679,466,855,806,486,820,3,666,594,482,357,153,474,829,803,293,185,184,547,71,888,616,891,458,361,769,141]
    test: [920,389,792,523,839,326,177,38,270,540,916,567,621,786,46,541,571,869,192,381,55,353,73,145,370,187,518,480,609,259,787,10,828,693,23,129,420,637,727,695,472,522,91,448,138,99,118,434,640,455,597,561,75,671,821,732,443,17,649,97,379,516,234,147,763,2,488,865,61,433,815,731,464,431,227,274,426,16,228,581,560,630,348,334,271,272,24,858,182,898,103,814,773,653,216,43,681,791,446,636,771,308,871,453,638,487,205,36,841,243,835,211,406,642,717,114,632,477,641,740,459,152,535,245,748,817,391,383,794,180,650,524,592,530,776,305,909,539,730,750,579,31,107,117,789,525,812,219,304,69,246,914,809,82,903,614,110,441,233,701,857,628,157,790,284,355,285,5,311,225,785,214,496,449,39,558,573,639,553,181,866,111]

  transforms:
    target_size: &target_size [144, 96, 144]
    mode: &mode "trilinear"
    train:
      - name: "ToTensor"

      - name: "Resize"
        params:
          target_size: *target_size
          mode: *mode

    val:  # Transforms for validation set
      - name: "ToTensor"

      - name: "Resize"
        params:
          target_size: *target_size
          mode: *mode
      - name: "Normalize"

    test:  # Transforms for test set
      - name: "ToTensor"

      - name: "Resize"
        params:
          target_size: *target_size
          mode: *mode
      - name: "Normalize"

dataloader:
  train:
    batch_size: *global_batch_size
    shuffle: true
    num_workers: *global_num_workers
    pin_memory: false

  val:
    batch_size: *global_batch_size
    shuffle: false
    num_workers: *global_num_workers
    pin_memory: false

  test:
    batch_size: *global_batch_size
    shuffle: false
    num_workers: *global_num_workers
    pin_memory: false

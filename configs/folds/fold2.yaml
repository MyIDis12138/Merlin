global_batch_size: &global_batch_size 8
global_num_workers: &global_num_workers 16

dataset:
  name: "multimodal_dataset"
  params:
    root_dir: "data/Duke-Breast-Cancer-MRI"
    clinical_data_path: "data/Clinical_and_Other_Features.xlsx"
    clinical_label: ['Recurrence', 'Recurrence event(s)', '{0 = no, 1 = yes}']
    clinical_features_filter_dict:
      0: [ "Follow Up", "US features"] #"Tumor Characteristics"
    clinical_features_exclude_columns:
      - ['Recurrence', 'Days to local recurrence (from the date of diagnosis)', '']
      - ['Recurrence', 'Days to distant recurrence(from the date of diagnosis)', '']
      - ['Tumor Characteristics', 'Staging(Tumor Size)# [T]', '']
      - ['Mammography Characteristics', 'Tumor Size (cm)', '']
      - ['MRI Technical Information', 'Image Position of Patient', '']
      - ['Tumor Characteristics', 'Position', 'Position (every bx positive for invasive cancer)(used during annotation)']
    max_workers: 8

  indices:
    # train: [358]
    # val: [388]
    # train: [2, 8, 18, 20, 47, 48, 53, 57, 59, 61, 64, 91, 92, 102, 117, 137, 145, 153, 154, 162, 180, 185, 196, 208, 221, 222, 227, 233, 243, 246, 251, 255, 257, 284, 286, 295, 311, 316, 318, 322, 329, 340, 348, 351, 352, 354, 355, 359, 375, 383, 415, 419, 423, 424, 425, 434, 435, 438, 444, 446, 456, 462, 483, 492, 516, 534, 550, 552, 555, 561, 565, 571, 579, 590, 612]
    train: [910,533,25,179,318,808,719,885,321,47,647,84,54,687,133,424,483,350,591,108,848,1,220,445,189,601,70,8,172,374,340,422,297,707,369,346,475,414,241,173,161,195,238,755,725,506,208,739,657,236,623,493,302,287,235,244,772,665,57,162,799,330,29,74,720,106,635,868,4,115,79,401,505,128,610,842,363,430,276,735,654,490,611,393,562,853,798,557,886,728,408,473,724,749,831,283,783,575,132,450,175,48,323,696,917,670,288,299,301,222,217,85,58,409,584,743,264,548,37,606,437,404,131,602,503,564,378,531,805,536,729,18,210,89,520,795,793,476,646,734,204,847,119,698,568,833,64,197,764,150,686,889,645,664,802,850,788,364,901,517,585,462,333,338,510,883,552,471,105,513,296,341,545,429,454,555,438,76,9,359,762,752,171,576,6,101,267,796,457,778,292,15,122,834,312,258,537,497,911,322,280,83,80,396,819,726,139,388,146,60,423,620,207,878,142,251,336,317,508,512,344,704,656,300,226,874,804,467,19,680,499,81,135,880,260,469,416,876,163,316,303,521,167,262,593,113,22,479,155,844,703,862,358,572,824,452,215,418,151,116,104,286,760,779,124,342,41,415,382,421,461,206,223,30,194,918,377,491,45,156,26,697,183,400,758,213,314,20,109,775,354,159,21,166,439,345,95,237,34,201,247,174,877,625,837,362,349,897,67,417,603,757,587,797,32,774,867,838,412,481,96,319,380,784,864,53,615,456,566,165,100,137,668,463,356,178,526,907,484,582,126,309,136,360,143,908,607,261,586,780,860,892,875,673,249,563,200,282,188,313,98,427,675,224,872,88,265,240,320,352,27,489,339,777,583,528,329,895,737,144,154,884,42,827,94,256,428,766,705,242,768,694,770,538,677,554,52,759,440,502,618,148,140,652,500,485,685,644,906,307,643,738,577,840,266,713,77,661,436,372,534,676,712,761,405,846,255,327,691,504,170,294,291,351,202,86,68,451,365,822,679,706,466,873,306,689,368,855,343,905,863,806,684,257,896,604,542,663,168,543,881,550,662,811,387,385,527,164,51,486,324,744,843,442,347,813,546,820,3,709,631,626,856,666,515,807,702,594,63,810,149,482,366,40,432,121,56,460,519,357,595,123,33,273,331,35,588,310,598,59,899,569,716,590,825,836,153,447,599,290,556,633,672,398,658,221,617,474,395,829,854,90,253,407,803,801,495,893,293,394,507,125,589,411,185,660,711,710,184,169,890,826,547,71,888,332,715,190,231,191,49,376,93,616,158,891,648,92,458,384,361,769,781,532,708,141,600,212,551,419,72]
    val: [375,371,669,818,196,605,627,12,494,13,692,688,511,751,870,402,765,269,747,367,721,209,186,230,44,904,328,298,295,28,900,62,198,722,275,733,745,921,879,683,578,218,746,852,922,742,816,278,859,915,608,851,714,832,14,50,470,203,690,624,392,629,754,529,800,413,11,682,160,335,861]
    test: [920,389,792,523,839,326,177,38,270,540,916,567,621,786,46,541,571,869,192,381,55,353,73,145,370,187,518,480,609,259,787,10,828,693,23,129,420,637,727,695,472,522,91,448,138,99,118,434,640,455,597,561,75,671,821,732,443,17,649,97,379,516,234,147,763,2,488,865,61,433,815,731,464,431,227,274,426,16,228,581,560,630,348,334,271,272,24,858,182,898,103,814,773,653,216,43,681,791,446,636,771,308,871,453,638,487,205,36,841,243,835,211,406,642,717,114,632,477,641,740,459,152,535,245,748,817,391,383,794,180,650,524,592,530,776,305,909,539,730,750,579,31,107,117,789,525,812,219,304,69,246,914,809,82,903,614,110,441,233,701,857,628,157,790,284,355,285,5,311,225,785,214,496,449,39,558,573,639,553,181,866,111]

  transforms:
    target_size: &target_size [144, 96, 144]
    mode: &mode "trilinear"
    train:
      - name: "ToTensor"

      - name: "Resize"
        params:
          target_size: *target_size
          mode: *mode

    val:  # Transforms for validation set
      - name: "ToTensor"

      - name: "Resize"
        params:
          target_size: *target_size
          mode: *mode
      - name: "Normalize"

    test:  # Transforms for test set
      - name: "ToTensor"

      - name: "Resize"
        params:
          target_size: *target_size
          mode: *mode
      - name: "Normalize"

dataloader:
  train:
    batch_size: *global_batch_size
    shuffle: true
    num_workers: *global_num_workers
    pin_memory: false

  val:
    batch_size: *global_batch_size
    shuffle: false
    num_workers: *global_num_workers
    pin_memory: false

  test:
    batch_size: *global_batch_size
    shuffle: false
    num_workers: *global_num_workers
    pin_memory: false
